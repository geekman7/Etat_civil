{% extends 'users/main.html' %}
{% load static %}
{% block title %}Users{% endblock %}
{% block content %}
<div class="row">


<div class="col ml-4 mr-4">
    <div class="panel">
        <div class="panel-heading">
            <h3 class="panel-title text-center">Liste des Utilisateurs</h3>
        </div>
        <div class="panel-body">
            <div id="demo-dt-basic_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="row"><div class="col-sm-6"><div class="dataTables_length" id="demo-dt-basic_length"></div></div><div class="col-sm-6"><div id="demo-dt-basic_filter" class="dataTables_filter"></div></div></div><div class="row"><div class="col-sm-12"><table id="demo-dt-basic" class="table table-striped table-bordered dataTable no-footer dtr-inline" role="grid" aria-describedby="demo-dt-basic_info">
                <thead>
                    <tr role="row">
                        <th class="sorting" tabindex="0" aria-controls="demo-dt-basic" rowspan="1" colspan="1" aria-label="Name: activate to sort column ascending" style="width: 300px;">Date</th>
                        <th class="sorting" tabindex="0" aria-controls="demo-dt-basic" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 300px;">Utilisateur</th>
                        <th class="sorting" tabindex="0" aria-controls="demo-dt-basic" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 300px;">Contenu</th>
                        <th class="min-tablet sorting_desc" tabindex="0" aria-controls="demo-dt-basic" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 181px;">ID</th>
                        <th class="sorting" tabindex="0" aria-controls="demo-dt-basic" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 300px;">Representation</th>
                        <th class="sorting" tabindex="0" aria-controls="demo-dt-basic" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 300px;">Action</th>
                    </tr>
                </thead>
                <tbody>    
                        {% for h in hist %} 
                            <tr role="row" class="odd">
                                <td class="">{{ h.action_time|date:"d M, Y" }}</td>
                                <td class="">{{h.user}}</td>
                                <td class="">{{h.content_type}}</td>
                                <td class="">{{h.object_id}}</td>
                                <td class="">{{h.object_repr}}</td>
                                <td class="">
                                    {% if h.action_flag == 1 %}
                                        Ajout
                                    {% elif h.action_flag == 2 %}
                                        Modification
                                    {% else %}
                                        Suppression
                                    {% endif %}
                                </td>
                                
                            </tr>
                        {% endfor %}
                </tbody>
            </table></div></div><div class="row"><div class="col-sm-6"></div></div></div>
        </div>
    </div>
</div>

</div>


{% endblock %}